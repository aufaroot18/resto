!function(e){function n(n){for(var r,u,o=n[0],c=n[1],s=n[2],f=0,p=[];f<o.length;f++)u=o[f],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&p.push(a[u][0]),a[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(n);p.length;)p.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,o=1;o<t.length;o++){var c=t[o];0!==a[c]&&(r=!1)}r&&(i.splice(n--,1),e=u(u.s=t[0]))}return e}var r={},a={2:0},i=[];function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=e,u.c=r,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)u.d(t,r,function(n){return e[n]}.bind(null,r));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var s=0;s<o.length;s++)n(o[s]);var l=c;i.push([12,1,0]),t()}([,,,,,,,function(e,n,t){var r=t(2),a=t(8);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},function(e,n,t){(n=t(3)(!1)).push([e.i,"// extracted by mini-css-extract-plugin\nexport {};",""]),e.exports=n},function(e,n,t){var r=t(2),a=t(10);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},function(e,n,t){(n=t(3)(!1)).push([e.i,"// extracted by mini-css-extract-plugin\nexport {};",""]),e.exports=n},,function(e,n,t){"use strict";t.r(n);t(6),t(7),t(9);var r={KEY:"",BASE_URL:"https://restaurant-api.dicoding.dev/",BASE_IMAGE_URL:"https://restaurant-api.dicoding.dev/images/",CACHE_NAME:(new Date).toISOString(),DATABASE_NAME:"restaurant-database",DATABASE_VERSION:"1",OBJECT_STORE_NAME:"restaurants"},a={LIST:"".concat(r.BASE_URL,"list"),DETAIL:function(e){return"".concat(r.BASE_URL,"detail/").concat(e)}};function i(e,n,t,r,a,i,u){try{var o=e[i](u),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var u=e.apply(n,t);function o(e){i(u,r,a,o,c,"next",e)}function c(e){i(u,r,a,o,c,"throw",e)}o(void 0)}))}}function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r,i,c;return n=e,t=null,r=[{key:"listRestaurants",value:(c=u(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a.LIST);case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t.restaurants);case 7:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"detailRestaurant",value:(i=u(regeneratorRuntime.mark((function e(n){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a.DETAIL(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r.restaurant);case 7:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})}],t&&o(n.prototype,t),r&&o(n,r),e}(),s=function(e){return"\n  <div class='restaurant'>\n  <img class='restaurant-image lazyload' data-src=\"".concat("".concat(r.BASE_IMAGE_URL,"small/").concat(e.pictureId),"\" alt='",e.name,"' />\n  <div class='restaurant-body'>\n    <h3 class='restaurant-name'><a href=\"","#/detail/".concat(e.id),'">').concat(e.name,"</a></h3>\n    <p class='restaurant-description'>").concat(e.description.substr(0,50),"</p>\n    <p class='restaurant-city'><i class=\"fa fa-map-signs\"></i> ").concat(e.city,"</p>\n    <p class='restaurant-rating'><i class=\"fa fa-star\"></i> ").concat(e.rating,"</p>\n  </div>\n  </div>\n")},l=function(e){return'\n  <div class="restaurant-detail-image">\n    <img src="'.concat("".concat(r.BASE_IMAGE_URL,"medium/").concat(e.pictureId),'" alt="',e.name,'" />\n  </div>\n  <div class="restaurant-detail-body">\n    <div>\n      <h2 class="name">').concat(e.name," - ").concat(e.rating,' <i class="fa fa-star"></i></h2>\n      <p class="description">').concat(e.description,'</p>\n    </div>\n    <div>\n      <h3><i class="fa fa-map-signs"></i> Address</h3>\n      <p class="address">').concat(e.city,", ").concat(e.address,'</p>\n    </div>\n    <div>\n      <h3><i class="fa fa-bars"></i> Category</h3>\n      <p class="category">').concat(e.categories.map((function(e){return" ".concat(e.name," ")})),'</p>\n    </div>\n    <div>\n      <h3><i class="fa fa-cutlery"></i> Menu Makanan</h3>\n      <p class="food">').concat(e.menus.foods.map((function(e){return" ".concat(e.name)})),'</p>\n    </div>\n    <div>\n      <h3><i class="fa fa-coffee"></i> Menu Minuman</h3>\n      <p class="drink">').concat(e.menus.drinks.map((function(e){return" ".concat(e.name)})),'</p>\n    </div>\n    <div>\n      <h3><i class="fa fa-pencil-square"></i> Customer Reviews</h3>\n      ').concat(e.customerReviews.map((function(e){return'\n        <div class="customer-review">\n          <p>'.concat(e.name," - ").concat(e.date,"</p>\n          <p>Review: ").concat(e.review,"</p>\n        </div>\n      ")})).join(""),"\n    </div>\n  </div>\n")};function f(e,n,t,r,a,i,u){try{var o=e[i](u),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function u(e){f(i,r,a,u,o,"next",e)}function o(e){f(i,r,a,u,o,"throw",e)}u(void 0)}))}}var d={render:function(){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n      <h2 class="restaurants-title">Our Restaurants</h2>\n      <p class="restaurants-description">\n        Ut dictum pellentesque libero venenatis pharetra dapibus magna\n        sagittis in amet nisl et.\n      </p>\n      <div class="container"></div>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){return p(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.listRestaurants();case 2:n=e.sent,t=document.querySelector("#restaurants > .container"),n.forEach((function(e){t.innerHTML+=s(e)}));case 5:case"end":return e.stop()}}),e)})))()}},v={parseActiveUrlWithCombiner:function(){var e=window.location.hash.slice(1).toLocaleLowerCase(),n=this._urlSplitter(e);return this._urlCombiner(n)},parseActiveUrlWithoutCombiner:function(){var e=window.location.hash.slice(1).toLocaleLowerCase();return this._urlSplitter(e)},_urlSplitter:function(e){var n=e.split("/");return{resource:n[1]||null,id:n[2]||null,verb:n[3]||null}},_urlCombiner:function(e){return(e.resource?"/".concat(e.resource):"/")+(e.id?"/:id":"")+(e.verb?"/".concat(e.verb):"")}},h=t(5);function m(e,n,t,r,a,i,u){try{var o=e[i](u),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function g(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function u(e){m(i,r,a,u,o,"next",e)}function o(e){m(i,r,a,u,o,"throw",e)}u(void 0)}))}}var b=r.DATABASE_NAME,w=r.DATABASE_VERSION,R=r.OBJECT_STORE_NAME,y=Object(h.a)(b,w,{upgrade:function(e){e.createObjectStore(R,{keyPath:"id"})}}),k={getRestaurant:function(e){return g(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y;case 2:return n.abrupt("return",n.sent.get(R,e));case 3:case"end":return n.stop()}}),n)})))()},getRestaurants:function(){return g(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y;case 2:return e.abrupt("return",e.sent.getAll(R));case 3:case"end":return e.stop()}}),e)})))()},insertRestaurant:function(e){return g(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y;case 2:return n.abrupt("return",n.sent.put(R,e));case 3:case"end":return n.stop()}}),n)})))()},deleteRestaurant:function(e){return g(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y;case 2:return n.abrupt("return",n.sent.delete(R,e));case 3:case"end":return n.stop()}}),n)})))()}};function x(e,n,t,r,a,i,u){try{var o=e[i](u),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function u(e){x(i,r,a,u,o,"next",e)}function o(e){x(i,r,a,u,o,"throw",e)}u(void 0)}))}}var S={init:function(e){var n=this;return _(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.likeButtonContainer,a=e.restaurant,n._likeButtonContainer=r,n._restaurant=a,t.next=5,n._renderButton();case 5:case"end":return t.stop()}}),t)})))()},_renderButton:function(){var e=this;return _(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e._restaurant.id,n.next=3,e._isRestaurantExist(t);case 3:if(!n.sent){n.next=7;break}e._renderLiked(),n.next=8;break;case 7:e._renderLike();case 8:case"end":return n.stop()}}),n)})))()},_isRestaurantExist:function(e){return _(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.getRestaurant(e);case 2:return t=n.sent,n.abrupt("return",!!t);case 4:case"end":return n.stop()}}),n)})))()},_renderLike:function(){var e=this;return _(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e._likeButtonContainer.innerHTML='\n  <button aria-label="like this restaurant" id="likeButton" class="like">\n    <i class="fa fa-bookmark-o" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",_(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.insertRestaurant(e._restaurant);case 2:e._renderButton();case 3:case"end":return n.stop()}}),n)}))));case 3:case"end":return n.stop()}}),n)})))()},_renderLiked:function(){var e=this;return _(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e._likeButtonContainer.innerHTML='\n  <button aria-label="unlike this restaurant" id="likeButton" class="like">\n    <i class="fa fa-bookmark" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",_(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.deleteRestaurant(e._restaurant.id);case 2:e._renderButton();case 3:case"end":return n.stop()}}),n)}))));case 3:case"end":return n.stop()}}),n)})))()}};function E(e,n,t,r,a,i,u){try{var o=e[i](u),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function A(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function u(e){E(i,r,a,u,o,"next",e)}function o(e){E(i,r,a,u,o,"throw",e)}u(void 0)}))}}function L(e,n,t,r,a,i,u){try{var o=e[i](u),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function P(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function u(e){L(i,r,a,u,o,"next",e)}function o(e){L(i,r,a,u,o,"throw",e)}u(void 0)}))}}var B={"/":d,"/restaurant":d,"/detail/:id":{render:function(){return A(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n      <h2 class="restaurants-title">Detail Restaurant</h2>\n      <p class="restaurants-description">\n        Ut dictum pellentesque libero venenatis pharetra dapibus magna\n        sagittis in amet nisl et.\n      </p>\n      <div class="restaurant-detail"></div>\n      <div id="likeButtonContainer"></div>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){return A(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.parseActiveUrlWithoutCombiner(),e.next=3,c.detailRestaurant(n.id);case 3:t=e.sent,document.querySelector("#restaurants > .restaurant-detail").innerHTML+=l(t),document.querySelector("#likeButtonContainer").innerHTML='\n  <button aria-label="like this restaurant" id="likeButton" class="like">\n    <i class="fa fa-bookmark-o" aria-hidden="true"></i>\n  </button>\n',S.init({likeButtonContainer:document.querySelector("#likeButtonContainer"),restaurant:t});case 9:case"end":return e.stop()}}),e)})))()}},"/favorite":{render:function(){return P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n      <h2 class="restaurants-title">Restaurants Favorite</h2>\n      <p class="restaurants-description">\n        Ut dictum pellentesque libero venenatis pharetra dapibus magna\n        sagittis in amet nisl et.\n      </p>\n      <div class="container"></div>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){return P(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getRestaurants();case 2:n=e.sent,t=document.querySelector("#restaurants > .container"),n.forEach((function(e){t.innerHTML+=s(e)}));case 5:case"end":return e.stop()}}),e)})))()}}},M={init:function(e){var n=this,t=e.button,r=e.navbar;t.addEventListener("click",(function(e){n._toggleNavbar(e,r)}))},_toggleNavbar:function(e,n){e.stopPropagation(),n.classList.toggle("show")}};function C(e,n,t,r,a,i,u){try{var o=e[i](u),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function O(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(n){var t=n.button,r=n.navbar,a=n.content;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._button=t,this._navbar=r,this._content=a,this._initialAppShell()}var n,t,r,a,i;return n=e,(t=[{key:"_initialAppShell",value:function(){M.init({button:this._button,navbar:this._navbar})}},{key:"renderPage",value:(a=regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.parseActiveUrlWithCombiner(),t=B[n],e.next=4,t.render();case 4:return this._content.innerHTML=e.sent,e.next=7,t.afterRender();case 7:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,n=arguments;return new Promise((function(t,r){var i=a.apply(e,n);function u(e){C(i,t,r,u,o,"next",e)}function o(e){C(i,t,r,u,o,"throw",e)}u(void 0)}))},function(){return i.apply(this,arguments)})}])&&O(n.prototype,t),r&&O(n,r),e}(),j=t(4),q=t.n(j);function U(e,n,t,r,a,i,u){try{var o=e[i](u),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}var I=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=4;break}return e.next=3,q.a.register();case 3:return e.abrupt("return");case 4:console.log("Service worker not supported in this browser");case 5:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function u(e){U(i,r,a,u,o,"next",e)}function o(e){U(i,r,a,u,o,"throw",e)}u(void 0)}))});return function(){return n.apply(this,arguments)}}(),N=(t(1),t(11),new T({button:document.querySelector(".navbar-toggler"),navbar:document.querySelector(".navbar-nav"),content:document.querySelector("#restaurants")}));window.addEventListener("hashchange",(function(){N.renderPage()})),window.addEventListener("load",(function(){N.renderPage(),I()}))}]);